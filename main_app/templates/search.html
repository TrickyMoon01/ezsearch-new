{% extends "base.html" %} {% block content %} {% load static %}

<style>
  h2 {
    margin: auto;
    text-align: center;
    margin-top: 10px;
  }
  p {
    margin: auto;
    text-align: center;
    margin-top: 7px;
  }
  form {
    margin: auto;
    text-align: center;
    gap: 5px;
  }
  header {
    background-color: cornflowerblue;
  }
  body {
    background-color: beige;
    margin: 0px;
  }
</style>

<h2>EzSearch</h2>
<form method="post">
  {% csrf_token %}
  <input type="search" name="q" placeholder="Search here" />
  <button type="submit">Search</button>
</form>
{% if results %}
<h1>Search Results</h1>
<ul>
  {% for item in results %}
  <li>
    <a href="{{item.url}}">{{item.title}}</a>
    <div>{{item.description|safe}}</div>
    <img width="40px" src="{{item.profile.img}}" />
    {% if "saved" in item %}
    <input type="checkbox" checked disabled />
    {% else %}
    <form method="post" style="display: inline">
      {% csrf_token %}
      <input type="hidden" name="title" value="{{item.title}}" />
      <input type="hidden" name="url" value="{{item.url}}" />
      <input type="hidden" name="description" value="{{item.description}}" />
      <button type="submit" name="save">Save</button>
    </form>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% else %}
<p>No results.</p>
{% endif %} {% endblock %}
